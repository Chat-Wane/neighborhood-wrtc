<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl">
  <title data-ice="title">neighborhood-wrtc API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <a data-ice="repoURL" href="https://github.com/ran3d/neighborhood-wrtc" class="repo-url-github">Repository</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/arcstore.js~ArcStore.html">ArcStore</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/neighborhood.js~Neighborhood.html">Neighborhood</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">entries</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/entries/edying.js~EDying.html">EDying</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/entries/eliving.js~ELiving.html">ELiving</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/entries/epending.js~EPending.html">EPending</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">exceptions</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/exceptions/exincompletemessage.js~ExIncompleteMessage.html">ExIncompleteMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/exceptions/exlatemessage.js~ExLateMessage.html">ExLateMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/exceptions/exprotocolexists.js~ExProtocolExists.html">ExProtocolExists</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/exceptions/exsocketnotfound.js~ExSocketNotFound.html">ExSocketNotFound</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/exceptions/exundefinedfunction.js~ExUndefinedFunction.html">ExUndefinedFunction</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">interfaces</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/interfaces/ineighborhood.js~INeighborhood.html">INeighborhood</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/interfaces/iprotocol.js~IProtocol.html">IProtocol</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">messages</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/messages/mrequest.js~MRequest.html">MRequest</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/messages/mresponse.js~MResponse.html">MResponse</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/messages/msend.js~MSend.html">MSend</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><div data-ice="index" class="github-markdown"><h1 id="neighborhood-wrtc-build-status-https-travis-ci-org-ran3d-neighborhood-wrtc-svg-branch-master-https-travis-ci-org-ran3d-neighborhood-wrtc-">neighborhood-wrtc <a href="https://travis-ci.org/RAN3D/neighborhood-wrtc"><img src="https://travis-ci.org/RAN3D/neighborhood-wrtc.svg?branch=master" alt="Build Status"></a></h1>
<p>&lt;i&gt;Keywords: WebRTC, browser-to-browser communication, overlay network&lt;/i&gt;</p>
<p>Project that aims to ease the WebRTC connection establishment process. Among
others, it alleviates the need to know which socket produced which offer.  It
also reuses existing connections instead of establishing new ones, when this is
possible. It aims to be part of network protocols that build overlay networks
and to provide them logical arcs - using identifiers - instead of channels.
Finally, it is designed to handle multiple protocols, for they may share
identical arcs. For instance, consider several applications embedded in a single
web page, some of them are connected to a same peer. Instead of working
completely on their own, these applications will share the same channel. The
neighborhood-wrtc module will redirect the messages to the right applications.</p>
<p>Note: The <a href="https://ran3d.github.io/neighborhood-wrtc/">API</a> may change to face
the need of overlay network protocols.</p>
<p>Neighborhood-wrtc is built on top of the (who said amazing?)
<a href="https://github.com/feross/simple-peer">simple-peer</a> project.</p>
<h2 id="principle">Principle</h2>
<p></p><p>
<img src="./img/notsharing.png"> 
</p>

<p></p>
<p>Three peer-to-peer applications <code>8O</code>, <code>:|</code> and <code>&gt;_&lt;</code> run in a same
tab of a WebRTC-compatible browser. When they want to connect to their
respective remote counterpart, the browser must establish 3 WebRTC connections,
for they do not share any information between each other.</p>
<p></p><p>
<img src="./img/sharing.png"> 
</p>

<p></p>
<p>Using this module to create WebRTC connections, they can share it and messages
will be automatically redirected to corresponding applications. In this example,
instead of establishing and maintaining 3 distinct connections -- which may be
costly in terms of time and bandwidth -- neighborhood-wrtc only establish 1. The
connection is destroyed only if the 3 applications remove it.</p>
<h2 id="installation">Installation</h2>
<pre><code><code class="source-code prettyprint">$ npm install neighborhood-wrtc</code>
</code></pre><h2 id="api">API</h2>
<p>You can find the API <a href="https://ran3d.github.io/neighborhood-wrtc/">here</a>.</p>
<h2 id="examples">Examples</h2>
<p>Usage examples of this module can be found
<a href="https://ran3d.github.io/neighborhood-wrtc/examples/simple.html">here</a> and
<a href="https://ran3d.github.io/neighborhood-wrtc/examples/multiple.html">here</a>.  To
run the example, make sure your web browser is
<a href="https://webrtc.org">WebRTC-compatible</a> and switch to console mode.</p>
<p>Module <a href="https://github.com/ran3d/n2n-overlay-wrtc">n2n-overlay-wrtc</a> uses this
module to establish WebRTC connections from neighbor-to-neighbor, i.e., at most
1 hop distance.</p>
<h2 id="socket">Socket</h2>
<p>By default we used <a href="https://github.com/feross/simple-peer">simple-peer</a> as Socket but if you want to change the type of Socket you want to use you&apos;ll need to follow this API:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">// ### events

// emit when the connection is established
socket.on(&apos;connect&apos;, () =&gt; {})

// emit when the socket is closed
socket.on(&apos;close&apos;, () =&gt; {})

// emit when data is received
socket.on(&apos;data&apos;, (data) =&gt; {})

// emit when a stream is received
socket.on(&apos;stream&apos;, (stream) =&gt; {})

// emit when an error occured
socket.on(&apos;error&apos;, (error) =&gt; {})

// emit when an offer is created
socket.on(&apos;signal&apos;, (offer) =&gt; {})

//### functions

// destroy the socket and emite the event close
// `Destroy and cleanup this peer connection.`
socket.destroy()

// pass an offer to the peer
socket.signal(offer)

// send data to the socket
socket.send(data)</code>
</code></pre>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.5.2)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
